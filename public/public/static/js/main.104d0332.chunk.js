(this.webpackJsonpquiz=this.webpackJsonpquiz||[]).push([[0],{28:function(e,t,a){e.exports=a(43)},33:function(e,t,a){},34:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),o=a.n(c),s=(a(33),a(34),a(5));function i(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Quiz App with Love by Vlad Bulgakov"),r.a.createElement(s.b,{to:"/game",className:"btn"},"Start Game"),r.a.createElement(s.b,{to:"/highScores",className:"btn"},"High Scores"))}var u=a(4),l=a(10),m=a(1);function h(e){var t=e.question,a=e.changeQuestion,c=Object(n.useState)(""),o=Object(m.a)(c,2),s=o[0],i=o[1],u=Object(n.useState)(-1),l=Object(m.a)(u,2),h=l[0],d=l[1],b=Object(n.useState)(!1),v=Object(m.a)(b,2),p=v[0],f=v[1];return r.a.createElement("div",null,r.a.createElement("h2",{dangerouslySetInnerHTML:{__html:t.question}}),t.answerChoices.map((function(e,n){return r.a.createElement("div",{key:n,className:"choice-container ".concat(h===n&&s),onClick:function(){return function(e){if(!p){f(!0),d(e);var n=e===t.answer?"correct":"incorrect";i(n);var r=e===t.answer?10:0;setTimeout((function(){d(-1),f(!1),a(r)}),1e3)}}(n)}},r.a.createElement("p",{className:"choice-prefix"},n+1),r.a.createElement("p",{className:"choice-text",dangerouslySetInnerHTML:{__html:e}}))})))}var d=a(15),b=a.n(d),v=a(26),p=function(){var e=Object(v.a)(b.a.mark((function e(){var t,a,n,r,c,o,s,i,u=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:10,a=u.length>1&&void 0!==u[1]?u[1]:9,n=u.length>2&&void 0!==u[2]?u[2]:"easy",r=u.length>3&&void 0!==u[3]?u[3]:"multiple",c="https://opentdb.com/api.php?amount=".concat(t,"&category=").concat(a,"&difficulty=").concat(n,"&type=").concat(r),e.prev=5,e.next=8,fetch(c);case 8:return o=e.sent,e.next=11,o.json();case 11:return s=e.sent,i=s.results,e.abrupt("return",f(i));case 16:e.prev=16,e.t0=e.catch(5),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(){return e.apply(this,arguments)}}(),f=function(e){return e.map((function(e){var t={question:e.question,answerChoices:Object(l.a)(e.incorrect_answers)};return t.answer=Math.floor(4*Math.random()),t.answerChoices.splice(t.answer,0,e.correct_answer),t}))};function E(e){var t=e.max,a=e.current/t*100;return r.a.createElement("div",{id:"progressBar"},r.a.createElement("div",{id:"progressBarFull",style:{width:"".concat(a,"%")}}))}function g(e){var t=e.score,a=e.questionNumber;return r.a.createElement("div",{id:"hud"},r.a.createElement("div",{className:"hud-item"},r.a.createElement("p",{className:"hud-prefix"},"Question ",a,"/10"),r.a.createElement(E,{max:10,current:a})),r.a.createElement("div",{className:"hud-item"},r.a.createElement("p",{className:"hud-prefix"},"Score"),r.a.createElement("h1",{className:"hud-main-text"},t)))}var j=r.a.createContext(null),O=function(){return Object(n.useContext)(j)};function S(e){var t=e.score,a=e.scoreSaved,c=Object(n.useState)(""),o=Object(m.a)(c,2),i=o[0],u=o[1],l=O();return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Score: ",t),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n={name:i,score:t};l.scores().push(n,(function(){a()}))}},r.a.createElement("input",{type:"text",name:"username",id:"username",placeholder:"cool kid 123",value:i,onChange:function(e){var t=e.target.value;u(t)}}),r.a.createElement("button",{type:"submit",className:"btn",disabled:!i},"Save")),r.a.createElement(s.b,{to:"/",className:"btn"},"Go Home"))}function w(e){var t=e.history,a=Object(n.useState)([]),c=Object(m.a)(a,2),o=c[0],s=c[1],i=Object(n.useState)(null),u=Object(m.a)(i,2),d=u[0],b=u[1],v=Object(n.useState)(!0),f=Object(m.a)(v,2),E=f[0],j=f[1],O=Object(n.useState)(0),w=Object(m.a)(O,2),y=w[0],N=w[1],x=Object(n.useState)(0),k=Object(m.a)(x,2),q=k[0],z=k[1],I=Object(n.useState)(!1),C=Object(m.a)(I,2),_=C[0],B=C[1];Object(n.useEffect)((function(){p().then(s).catch(console.error)}),[]);var M=Object(n.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(0===o.length)return B(!0),N(y+e);var t=Math.floor(Math.random()*o.length),a=o[t],n=Object(l.a)(o);n.splice(t,1),s(n),b(a),j(!1),N(y+e),z(q+1)}),[y,q,o,s,j,b,z]);return Object(n.useEffect)((function(){!d&&o.length&&M()}),[d,o,M]),r.a.createElement(r.a.Fragment,null,E&&!_&&r.a.createElement("div",{id:"loader"}),!E&&!_&&d&&r.a.createElement("div",null,r.a.createElement(g,{score:y,questionNumber:q}),r.a.createElement(h,{question:d,changeQuestion:M})),_&&r.a.createElement(S,{score:y,scoreSaved:function(){t.push("/")}}))}function y(){var e=O(),t=Object(n.useState)([]),a=Object(m.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)(!0),i=Object(m.a)(s,2),u=i[0],l=i[1];Object(n.useEffect)((function(){e.scores().once("value",(function(e){var t=e.val(),a=h(t);o(a),l(!1)}))}),[e]);var h=function(e){var t=[];for(var a in e){var n=e[a];n.key=a,t.push(n)}return t.sort((function(e,t){return t.score-e.score})).slice(0,10)};return r.a.createElement(r.a.Fragment,null,u&&r.a.createElement("div",{id:"loader"}),!u&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"High Scores"),r.a.createElement("div",{id:"highScoresList"},c.map((function(e){return r.a.createElement("li",{key:e.key,className:"high-score"},e.name," - ",e.score)})))))}var N=function(){return r.a.createElement(s.a,null,r.a.createElement("div",{className:"container"},r.a.createElement(u.a,{exact:!0,path:"/",component:i}),r.a.createElement(u.a,{path:"/game",component:w}),r.a.createElement(u.a,{path:"/highScores",component:y})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var x=a(27),k=a(16),q=a.n(k),z=(a(40),{apiKey:"AIzaSyBNgWxkXrGWI_7T1h2MdQn4gfW_DDWRy1Q",authDomain:"quiz-b4aa2.firebaseapp.com",databaseURL:"https://quiz-b4aa2.firebaseio.com",projectId:"quiz-b4aa2",storageBucket:"quiz-b4aa2.appspot.com",messagingSenderId:"461338253036",appId:"1:461338253036:web:9ba976061365e4cd46b7c9",measurementId:"G-8VXSL5G9R9"}),I=function e(){var t=this;Object(x.a)(this,e),this.scores=function(){return t.db.ref("scores")},q.a.initializeApp(z),this.db=q.a.database()};o.a.render(r.a.createElement(j.Provider,{value:new I},r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[28,1,2]]]);
//# sourceMappingURL=main.104d0332.chunk.js.map